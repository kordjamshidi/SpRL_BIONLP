Validation and Evaluation Software for BioNLP'13 Shared Task on Event Extraction -- Bacteria Biotope tasks


- Contains a script for validating BB data and evaluating predictions against a reference




Contents
--------

    BB.py
    obo.py
    bionlpst.py

The BB.py is a multi-purpose script that allows to:
        - validate .a1 and .a2 files against the BioNLP-ST format and against the BB tasks annotation schemas
        - evaluate .a2 files generated by a prediction system against a reference annotation

The bionlpst.py and obo.py files are libraries of common routines to parse and check files in BioNLP-ST and OBO formats. These files must be located in the same directory than BB.py. The python runtime generates files named bionlpst.pyc and obo.pyc, this is normal and these file are not required (since the runtime will re-generate them).





Requirements
------------

You must have Python version 2.7 or more recent in order to run this script.





Usage
-----

	./BB.py --task TASK [options] FILES

Where FILES is the set of `*.txt' files to check. In BB each file contains the text of a web page.
Where TASK is the BB sub-task number you wish to check or evaluate. The value of TASK must be either 1, 2 or 3. The --task option is mandatory.

Options:

	--a1-dir DIR
	Specifies the path to the directory containg the `.a1' files. The script expects a `.a1' file for each `.txt' file provided as argument. Since datasets for tasks 1 and 3 do not contain `.a1' files, therefore this option should be omitted when checking or evaluating tasks 1 and 3.

	--a2-dir DIR
	Specifies the path to the directory containg the `.a2' files. The script expects a `.a2' file for each `.txt' file provided as argument.

	--silence IGNOREFILE
	Specifies a file containing the exact string of error messages the script should ignore. This is useful if your output does not conform exactly to the BB annotation schema and wish to proceed anyway. Use at your own risk.

	--pred-dir DIR
	Computes the SER score of `.a2' files in the specified directory against reference annotations.

	--verbose
	When evaluating, prints detailed error analysis information.





Examples
--------

    * Validating the predicted data for task 1

        ./BB.py --task 1 --a2-dir PRED_DIR TRAIN_DIR/PMID-*.txt

	PRED_DIR is the directory containing the predicted data (`.a2' files).
	TRAIN_DIR is the directory containing `.txt' files.


    * Validating the predicted data for task 2

        ./BB.py --task 2 --a1-dir TRAIN_DIR --a2-dir PRED_DIR TRAIN_DIR/PMID-*.txt

	PRED_DIR is the directory containing the predicted data (`.a2' files).
	TRAIN_DIR is the directory containing `.txt' and `.a1' files.



    * Validating the predicted data for task 3

        ./BB.py --task 3 --a2-dir PRED_DIR TRAIN_DIR/PMID-*.txt

	PRED_DIR is the directory containing the predicted data (`.a2' files).
	TRAIN_DIR is the directory containing `.txt' files.


    * Evaluating predictions in `.a2' format for task 1

        ./BB.py --task 1 --a2-dir TRAIN_DIR --pred-dir PRED_DIR TRAIN_DIR/PMID-*.txt

	TRAIN_DIR is the directory containing the training data (`.txt' files).
	PRED_DIR is the directory containing the predicted data (`.a2' files).


    * Evaluating predictions in `.a2' format for task 2

        ./BB.py --task 2 --a1-dir TRAIN_DIR --a2-dir TRAIN_DIR --pred-dir PRED_DIR TRAIN_DIR/PMID-*.txt

	TRAIN_DIR is the directory containing the training data (`.txt' and `.a1' files).
	PRED_DIR is the directory containing the predicted data (`.a2' files).


    * Evaluating predictions in `.a2' format for task 3

        ./BB.py --task 3 --a2-dir TRAIN_DIR --pred-dir PRED_DIR TRAIN_DIR/PMID-*.txt

	TRAIN_DIR is the directory containing the training data (`.txt' files).
	PRED_DIR is the directory containing the predicted data (`.a2' files).


    * Evaluating predictions in `.a2' format for task 1 with error analysis

        ./BB.py --task 1 --verbose --a2-dir TRAIN_DIR --pred-dir PRED_DIR TRAIN_DIR/PMID-*.txt

	TRAIN_DIR is the directory containing the training data (`.txt' files).
	PRED_DIR is the directory containing the predicted data (`.a2' files).


    * Evaluating predictions in `.a2' format for task 2 with error analysis

        ./BB.py --task 2 --verbose --a1-dir TRAIN_DIR --a2-dir TRAIN_DIR --pred-dir PRED_DIR TRAIN_DIR/PMID-*.txt

	TRAIN_DIR is the directory containing the training data (`.txt' and `.a1' files).
	PRED_DIR is the directory containing the predicted data (`.a2' files).


    * Evaluating predictions in `.a2' format for task 3 with error analysis

        ./BB.py --task 3 --verbose --a2-dir TRAIN_DIR --pred-dir PRED_DIR TRAIN_DIR/PMID-*.txt

	TRAIN_DIR is the directory containing the training data (`.txt' files).
	PRED_DIR is the directory containing the predicted data (`.a2' files).



Troubleshooting
---------------

If you run into a bug or a questionable behaviour of this tool, please contact the authors.
For the purpose of reproducing bugs, you might need to send the input data, this data will remain confidential and will be erased after the bug is fixed.


Authors
-------

BioNLP'13 Shared Task organizers,
bionlpsharedtask@gmail.com
https://sites.google.com/site/bionlpst2013

For questions and remarks concerning specifically the Bacteria Biotopes tasks:
Robert Bossy
Robert.Bossy@jouy.inra.fr
